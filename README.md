# An Eventually Perfect Failure Detector on ADD Channels Using Clustering

## Usage instructions

### Requirements

Python 3 installed. All imported modules exist in default Python 3 installation.

### Running scripts

1. Call `python3 Topology_Generator.py` from this directory to generate sample input topologies for the simulation script. OPTIONAL: provide custom inputs by placing well-formatted topology definitions (described below) in the `inputs/` directory.

2. Call `python3 Eventually_Perfect_Failure_Detector.py` from this directory to perform algorithm simulations on all example inputs provided in the `inputs/` directory.

3. Results will be stored in an output csv file in this directory, `output.csv`. This file is also copied to an output archive in the `outputs/` directory, each output having a timestamp of script completion.

### Changing size and group size of generated topologies

To change the network sizes and group sizes generated by `Topology_Generator.py`, change the integer values that populate the `network_sizes` and `group_sizes` lists within `main()` respectively. Each combination of sizes possible from these lists will be generated (NOTE: a topology with a group size that is equal or larger than the network size will not be generated). Next, you will most likely want to delete entries in the `inputs/` directory and re-run `Topology_Generator.py` in order to use the new network and group sizes.

## Topology Definition Formatting

To create custom topologies for testing, create a `.txt` file with only your custom topology definition (described below) and place it in the `inputs/` directory. Topologies are defined as a list of size 4 via the following format:

[

network_size,

connections_list,

groups_list,

leaders_list

]

### network_size

This entry in the top-level topology definition list is the number of nodes in the network.

### connections_list

This entry in the top-level topology definition list is a list that contains lists defining the connections for each node in the network, in order. The length of `connections_list` must be equal to `network_size` to be properly formatted. Connections must be listed in both nodes' lists that they connect (if node 0 and node 1 are connected, node 1 must be present in node 0's list and node 0 must be present in node 1's list).

As an example, a topology with `network_size` = 5. The `connections_list` example is listed below:

[

[1, 2, 4],

[0, 3],

[0, 4],

[1, 4],

[0, 2, 3]

]

### groups_list

This entry in the top-level topology definition list is a list that contains lists defining the members of each group, in order. The length of this list is equal to the number of groups in the topology, and must equal the length of `leaders_list`. Nodes must exist in only one group list. Groups must be connected disregarding nodes from other groups. In other words, a path must exist from each node in the group to each other node in the group without visiting any nodes from another group.

Following the previous example, suppose the network's 0th group contains nodes 0, 1, and 2 and the network's 1st group contains nodes 3 and 3. The example is listed below:

[

[0, 1, 2],

[3, 4]

]

### leaders_list

This entry in the top-level topology definition list is a list that defines the leader node for each group, in order. The length of this list is equal to the number of groups in the topology, and must equal the length of `groups_list`. There is only one leader node for each group, and each listed leader node must be a member of the group numbered with the position of the leader in the list (as an example, the 0th leader in the list must be a member of the 0th group).

Following the previous example, suppose the 0th group's leader is node 0 and the 1st group's leader is node 4. The example is listed below:

[0, 4]

### Full example

Combining all information from the previous example topology, the final list would appear as follows (whitespace irrelevant):

[5, [[1, 2, 4], [0, 3], [0, 4], [1, 4], [0, 2, 3]], [[0, 1, 2], [3, 4]], [0, 4]]

## Other helpful information.

See `topology_example_images/` directory for examples of the different types of topologies generated by `Topology_Generator.py`. Leader nodes are indicated with an 'L' in their label, and clusters are illustrated via colored partitions.
